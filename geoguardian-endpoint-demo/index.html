<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GeoGuardian Smart Geofencing Demo</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üõ°Ô∏è GeoGuardian Smart Geofencing</h1>
            <p>Intelligent Location Processing with Visual Geofence Analysis</p>
        </div>

        <div class="demo-grid">
            <div class="map-container">
                <div class="map-overlay">
                    <h4 style="margin: 0 0 10px 0;">üìä Live Status</h4>
                    <div id="liveStatus" class="status-indicator status-info">
                        Ready to start demo
                    </div>
                    <div class="metrics-grid">
                        <div class="metric-card">
                            <div class="metric-value" id="currentAccuracy">--</div>
                            <div class="metric-label">Accuracy (m)</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="currentConfidence">--</div>
                            <div class="metric-label">Confidence</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="currentPlatform">--</div>
                            <div class="metric-label">Platform</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="processingTime">--</div>
                            <div class="metric-label">Process (ms)</div>
                        </div>
                    </div>
                </div>

                <div class="legend">
                    <h4 style="margin: 0 0 8px 0; font-size: 14px;">Map Legend</h4>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #dc2626;"></div>
                        <span>Raw GPS Point</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #10b981;"></div>
                        <span>Processed Point</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #3b82f6;"></div>
                        <span>Geofence Center</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #10b981; opacity: 0.4;"></div>
                        <span>‚úÖ Inside Zone</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #3b82f6; opacity: 0.4;"></div>
                        <span>üîÑ Main Geofence</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #fbbf24; opacity: 0.4;"></div>
                        <span>‚ùì Uncertainty Zone</span>
                    </div>
                </div>

                <div id="map"></div>
            </div>

            <div class="control-panel">
                <div class="section">
                    <h3>üéØ Geofence Setup</h3>
                    <div class="form-group">
                        <label for="geofenceName">Geofence Name:</label>
                        <input type="text" id="geofenceName" value="Test Building" placeholder="Enter geofence name">
                    </div>
                    <div class="form-group">
                        <label for="geofenceRadius">Radius (meters):</label>
                        <input type="number" id="geofenceRadius" value="100" min="10" max="1000">
                    </div>
                    <div class="form-group">
                        <label for="bufferStrategy">Buffer Strategy:</label>
                        <select id="bufferStrategy">
                            <option value="conservative">Conservative</option>
                            <option value="moderate" selected>Moderate</option>
                            <option value="aggressive">Aggressive</option>
                        </select>
                    </div>
                    <button class="button" id="createGeofence" disabled>üìç Click Map to Create Geofence</button>
                </div>

                <div class="section">
                    <h3>‚öôÔ∏è Processing Options</h3>
                    <div class="checkbox-group">
                        <input type="checkbox" id="enableFusion" checked>
                        <label for="enableFusion">Enable Location Fusion</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="enableMovementAnalysis" checked>
                        <label for="enableMovementAnalysis">Movement Analysis</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="enableKalman">
                        <label for="enableKalman">Kalman Filtering</label>
                    </div>
                    <div class="form-group">
                        <label for="simulateDevice">Simulate Device:</label>
                        <select id="simulateDevice">
                            <option value="auto">Auto-detect</option>
                            <option value="ios">iOS Device</option>
                            <option value="android">Android Device</option>
                            <option value="web">Web Browser</option>
                        </select>
                    </div>
                </div>

                <div class="section">
                    <h3>üöÄ Demo Controls</h3>
                    <button class="button" id="requestLocation">üìç Request Location Access</button>
                    <button class="button success" id="startDemo" disabled>‚ñ∂Ô∏è Start Smart Tracking</button>
                    <button class="button danger" id="stopDemo" disabled>‚èπÔ∏è Stop Demo</button>
                    <button class="button" id="clearMap">üóëÔ∏è Clear Map</button>
                </div>

                <div class="section">
                    <h3>üîÑ Processing Pipeline</h3>
                    <div class="processing-pipeline">
                        <div class="pipeline-step" id="step1">
                            <span>1Ô∏è‚É£</span>
                            <span>Collect GPS Reading</span>
                        </div>
                        <div class="pipeline-step" id="step2">
                            <span>2Ô∏è‚É£</span>
                            <span>Quality Analysis</span>
                        </div>
                        <div class="pipeline-step" id="step3">
                            <span>3Ô∏è‚É£</span>
                            <span>Location Fusion</span>
                        </div>
                        <div class="pipeline-step" id="step4">
                            <span>4Ô∏è‚É£</span>
                            <span>Movement Analysis</span>
                        </div>
                        <div class="pipeline-step" id="step5">
                            <span>5Ô∏è‚É£</span>
                            <span>Geofence Evaluation</span>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h3>üìä Raw vs Processed</h3>
                    <div class="comparison-panels">
                        <div class="comparison-panel panel-raw">
                            <strong>üìç Raw GPS</strong>
                            <div id="rawData">No data yet</div>
                        </div>
                        <div class="comparison-panel panel-processed">
                            <strong>‚ú® Processed</strong>
                            <div id="processedData">No data yet</div>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h3>üéØ Geofence Results</h3>
                    <div class="geofence-results" id="geofenceResults">
                        No geofences created yet
                    </div>
                </div>

                <div class="logs" id="logs">
                    <div class="log-entry">
                        <span class="log-timestamp">[Ready]</span> GeoGuardian Smart Geofencing Demo initialized
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="script.js"></script>
</body>
</html>